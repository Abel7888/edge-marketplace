(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{31761:function(e,t,n){Promise.resolve().then(n.bind(n,44081))},27648:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var r=n(72972),s=n.n(r)},44081:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(57437),s=n(2265),a=n(62950),l=n(99376),i=n(27648);function o(){let{currentUser:e,login:t,loginWithGoogle:n,resetPassword:o}=(0,a.a)(),[u,c]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[f,x]=(0,s.useState)(!1),[g,h]=(0,s.useState)(""),[p,b]=(0,s.useState)(""),y=(0,l.useRouter)();async function v(e){e.preventDefault(),h(""),b(""),x(!0);try{await t(u,d),y.push("/discover")}catch(e){h(e.message||"Failed to sign in")}finally{x(!1)}}async function w(){h(""),b(""),x(!0);try{await n(),y.push("/discover")}catch(e){h(e.message||"Google sign-in failed")}finally{x(!1)}}async function j(){if(h(""),b(""),!u){h("Enter your email to reset password");return}try{await o(u),b("Password reset email sent")}catch(e){h(e.message||"Failed to send reset email")}}return(0,s.useEffect)(()=>{e&&y.replace("/discover")},[e,y]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:(0,r.jsx)("div",{className:"max-w-md mx-auto pt-28 px-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl border shadow-sm p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Sign in"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Welcome back. Sign in to continue."}),g&&(0,r.jsx)("div",{className:"mt-3 text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg px-3 py-2",children:g}),p&&(0,r.jsx)("div",{className:"mt-3 text-sm text-emerald-700 bg-emerald-50 border border-emerald-100 rounded-lg px-3 py-2",children:p}),(0,r.jsxs)("form",{onSubmit:v,className:"mt-4 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",value:u,onChange:e=>c(e.target.value),className:"mt-1 w-full border rounded-lg px-3 py-2",placeholder:"you@company.com",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-700",children:"Password"}),(0,r.jsx)("input",{type:"password",value:d,onChange:e=>m(e.target.value),className:"mt-1 w-full border rounded-lg px-3 py-2",placeholder:"••••••••",required:!0})]}),(0,r.jsx)("button",{disabled:f,className:"w-full h-11 rounded-xl bg-blue-600 text-white font-semibold",children:f?"Signing in…":"Sign in"})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("button",{onClick:w,disabled:f,className:"w-full h-11 rounded-xl border font-semibold",children:"Continue with Google"})}),(0,r.jsxs)("div",{className:"mt-4 text-sm flex items-center justify-between",children:[(0,r.jsx)("button",{onClick:j,className:"text-blue-600",children:"Forgot password?"}),(0,r.jsxs)("span",{children:["Don't have an account? ",(0,r.jsx)(i.default,{href:"/signup",className:"text-blue-600",children:"Create one"})]})]})]})})})}function u(){return(0,r.jsx)(o,{})}},62950:function(e,t,n){"use strict";n.d(t,{H:function(){return u},a:function(){return c}});var r=n(57437),s=n(2265),a=n(8858),l=n(43301),i=n(5978);let o=(0,s.createContext)(null);function u(e){let{children:t}=e,[n,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0);async function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=await (0,l.Xb)(a.I8,e,t);n.name&&await (0,l.ck)(r.user,{displayName:n.name});let s=(0,i.JU)(a.db,"users",r.user.uid);return await (0,i.pl)(s,{email:e,name:n.name||"",role:n.role||"buyer",company:n.company||"",industry:n.industry||"",createdAt:(0,i.Bt)(),lastLogin:(0,i.Bt)(),savedVendors:[]},{merge:!0}),r.user}return(0,s.useEffect)(()=>{let e=(0,l.Aj)(a.I8,async e=>{u(e),d(!1)});return()=>e()},[]),(0,r.jsx)(o.Provider,{value:{currentUser:n,loading:c,signup:m,login:function(e,t){return(0,l.e5)(a.I8,e,t)},loginWithGoogle:function(){return(0,l.rh)(a.I8,a.Vv)},resetPassword:function(e){return(0,l.LS)(a.I8,e)},logout:function(){return(0,l.w7)(a.I8)}},children:t})}function c(){let e=(0,s.useContext)(o);return null===e?{currentUser:null,loading:!0,signup:()=>{},login:()=>{},loginWithGoogle:()=>{},resetPassword:()=>{},logout:()=>{}}:e}},8858:function(e,t,n){"use strict";n.d(t,{I8:function(){return u},Vv:function(){return d},db:function(){return c}});var r=n(738),s=n(43301),a=n(5978),l=n(60062);let i={apiKey:"AIzaSyCldF8RGxv2ObaiXm4B40JNDg_J-9LsoyM",authDomain:"marketplace-3d57c.firebaseapp.com",projectId:"marketplace-3d57c",storageBucket:"marketplace-3d57c.firebasestorage.app",messagingSenderId:"476011729047",appId:"1:476011729047:web:5a9ffbb4845ae21f7f19d2",measurementId:n(40257).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},o=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)(i),u=(0,s.v0)(o),c=(0,a.ad)(o);(0,l.cF)(o);let d=new s.hJ}},function(e){e.O(0,[4358,139,492,2972,2971,2117,1744],function(){return e(e.s=31761)}),_N_E=e.O()}]);