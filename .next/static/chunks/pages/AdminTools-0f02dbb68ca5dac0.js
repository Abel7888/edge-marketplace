(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2074],{58388:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AdminTools",function(){return n(20099)}])},31688:function(e,t,n){"use strict";n.d(t,{db:function(){return o}});var a=n(83977),d=n(2370),i=n(39828),s=n(86650);let r={apiKey:"AIzaSyCldF8RGxv2ObaiXm4B40JNDg_J-9LsoyM",authDomain:"marketplace-3d57c.firebaseapp.com",projectId:"marketplace-3d57c",storageBucket:"marketplace-3d57c.firebasestorage.app",messagingSenderId:"476011729047",appId:"1:476011729047:web:5a9ffbb4845ae21f7f19d2",measurementId:n(83454).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},l=(0,a.C6)().length?(0,a.Mq)():(0,a.ZF)(r);(0,d.v0)(l);let o=(0,i.ad)(l);(0,s.cF)(l),new d.hJ},99144:function(e,t,n){"use strict";n.d(t,{P4:function(){return r},e2:function(){return l},nG:function(){return s}});var a=n(31688),d=n(39828),i=n(39358);async function s(){let e=(0,d.hJ)(a.db,"vendors"),t=(0,d.qs)(a.db),n=(0,d.Bt)(),s=i.Z.map(e=>{var t,a,d;return{...e,createdAt:n,updatedAt:n,mediaUrls:{logoUrl:e.logoUrl||"",videoUrl:(null===(t=e.media)||void 0===t?void 0:t.videoUrl)||"",caseStudyUrl:(null===(a=e.media)||void 0===a?void 0:a.caseStudyUrl)||"",images:(null===(d=e.media)||void 0===d?void 0:d.images)||[]}}});for(let n=0;n<s.length;n++){let a=(0,d.JU)(e);t.set(a,s[n]),(n>0&&n%400==0||n===s.length-1)&&(await t.commit(),s.length)}}async function r(){let e=(0,d.hJ)(a.db,"vendors"),t=(0,d.IO)(e,(0,d.Xo)("createdAt","desc"));return(await (0,d.PL)(t)).docs.map(e=>({id:e.id,...e.data()}))}function l(e){let t=(0,d.hJ)(a.db,"vendors"),n=(0,d.IO)(t,(0,d.Xo)("createdAt","desc"));return(0,d.cf)(n,t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))})}},20099:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(85893),d=n(67294),i=n(99144);function s(){let[e,t]=(0,d.useState)(!1),[n,s]=(0,d.useState)(""),[r,l]=(0,d.useState)(null);async function o(){s(""),t(!0);try{await (0,i.nG)(),s("Vendors seed completed.");let e=await (0,i.P4)();l(e.length)}catch(e){s(e.message||"Seed failed")}finally{t(!1)}}async function c(){s(""),l((await (0,i.P4)()).length)}return(0,a.jsx)("div",{className:"max-w-2xl mx-auto pt-28 px-6",children:(0,a.jsxs)("div",{className:"bg-white border rounded-2xl p-6",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Admin Tools"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Utilities to initialize Firestore with vendor data. Only run seeding once."}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:o,disabled:e,className:"h-10 px-4 rounded-lg bg-blue-600 text-white font-semibold",children:e?"Seedingâ€¦":"Seed Vendors (270)"}),(0,a.jsx)("button",{onClick:c,className:"h-10 px-4 rounded-lg border",children:"Check Count"})]}),n&&(0,a.jsx)("div",{className:"mt-3 text-sm",children:n}),null!==r&&(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-700",children:["Vendors in Firestore: ",r]})]})})}}},function(e){e.O(0,[2016,9551,2915,9358,2888,9774,179],function(){return e(e.s=58388)}),_N_E=e.O()}]);