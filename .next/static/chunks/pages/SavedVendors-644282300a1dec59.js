(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{52602:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SavedVendors",function(){return n(117)}])},33592:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67294);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:n,strokeWidth:i?24*Number(l)/Number(s):l,className:a("lucide",d),...m},[...u.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let n=(0,r.forwardRef)((n,o)=>{let{className:i,...d}=n;return(0,r.createElement)(l,{ref:o,iconNode:t,className:a("lucide-".concat(s(e)),i),...d})});return n.displayName="".concat(e),n}},72003:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},13427:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},83917:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},43604:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},91560:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2646:function(e,t,n){"use strict";n.d(t,{a:function(){return a}}),n(85893);var r=n(67294);n(31688),n(2370),n(39828);let s=(0,r.createContext)(null);function a(){let e=(0,r.useContext)(s);return null===e?{currentUser:null,loading:!0,signup:()=>{},login:()=>{},loginWithGoogle:()=>{},resetPassword:()=>{},logout:()=>{}}:e}},31688:function(e,t,n){"use strict";n.d(t,{db:function(){return d}});var r=n(83977),s=n(2370),a=n(39828),o=n(86650);let l={apiKey:"AIzaSyCldF8RGxv2ObaiXm4B40JNDg_J-9LsoyM",authDomain:"marketplace-3d57c.firebaseapp.com",projectId:"marketplace-3d57c",storageBucket:"marketplace-3d57c.firebasestorage.app",messagingSenderId:"476011729047",appId:"1:476011729047:web:5a9ffbb4845ae21f7f19d2",measurementId:n(83454).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},i=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)(l);(0,s.v0)(i);let d=(0,a.ad)(i);(0,o.cF)(i),new s.hJ},75109:function(e,t,n){"use strict";n.r(t),n.d(t,{fetchSavedVendors:function(){return l},removeSavedVendor:function(){return o},saveVendor:function(){return a},subscribeSavedVendors:function(){return i}});var r=n(31688),s=n(39828);async function a(e,t){var n,a,o,l,i,d,c,u,m,g,v,h,x,p,f,b,y,w,S;let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},N=(0,s.JU)(r.db,"savedVendors",e,"vendors",t),D={vendorId:t,savedAt:(0,s.Bt)(),name:null!==(a=j.name)&&void 0!==a?a:null,website:null!==(o=j.website)&&void 0!==o?o:null,summary:null!==(c=null!==(d=null!==(i=null!==(l=j.summary)&&void 0!==l?l:j.tagline)&&void 0!==i?i:j.shortDescription)&&void 0!==d?d:null===(n=j.fullDescription)||void 0===n?void 0:n.slice(0,160))&&void 0!==c?c:null,tagline:null!==(u=j.tagline)&&void 0!==u?u:null,description:null!==(v=null!==(g=null!==(m=j.description)&&void 0!==m?m:j.fullDescription)&&void 0!==g?g:j.about)&&void 0!==v?v:null,logoEmoji:null!==(h=j.logoEmoji)&&void 0!==h?h:null,logoUrl:null!==(x=j.logoUrl)&&void 0!==x?x:null,category:null!==(p=j.category)&&void 0!==p?p:null,location:null!==(f=j.location)&&void 0!==f?f:null,verified:null!==(b=j.verified)&&void 0!==b&&b,tags:null!==(S=null!==(w=null!==(y=j.tags)&&void 0!==y?y:j.solutions)&&void 0!==w?w:j.industries)&&void 0!==S?S:[]};console.log("[saveVendor] Writing to Firestore:",{userId:e,vendorId:t,name:null==j?void 0:j.name,path:N.path}),console.log("[saveVendor] Payload:",D),await (0,s.pl)(N,D,{merge:!0}),console.log("[saveVendor] Write complete!")}async function o(e,t){let n=(0,s.JU)(r.db,"savedVendors",e,"vendors",t);await (0,s.oe)(n)}async function l(e){let t=(0,s.hJ)(r.db,"savedVendors",e,"vendors"),n=(0,s.IO)(t);return(await (0,s.PL)(n)).docs.map(e=>({id:e.id,...e.data()}))}function i(e,t){let n=(0,s.hJ)(r.db,"savedVendors",e,"vendors"),a=(0,s.IO)(n);return(0,s.cf)(a,e=>{let n=e.docs.map(e=>({id:e.id,...e.data()}));try{console.log("[subscribeSavedVendors] docs",n.length)}catch(e){}t(n)},e=>{try{console.error("[subscribeSavedVendors] error",(null==e?void 0:e.code)||(null==e?void 0:e.message)||e)}catch(e){}})}},99144:function(e,t,n){"use strict";n.d(t,{P4:function(){return l},e2:function(){return i},nG:function(){return o}});var r=n(31688),s=n(39828),a=n(39358);async function o(){let e=(0,s.hJ)(r.db,"vendors"),t=(0,s.qs)(r.db),n=(0,s.Bt)(),o=a.Z.map(e=>{var t,r,s;return{...e,createdAt:n,updatedAt:n,mediaUrls:{logoUrl:e.logoUrl||"",videoUrl:(null===(t=e.media)||void 0===t?void 0:t.videoUrl)||"",caseStudyUrl:(null===(r=e.media)||void 0===r?void 0:r.caseStudyUrl)||"",images:(null===(s=e.media)||void 0===s?void 0:s.images)||[]}}});for(let n=0;n<o.length;n++){let r=(0,s.JU)(e);t.set(r,o[n]),(n>0&&n%400==0||n===o.length-1)&&(await t.commit(),o.length)}}async function l(){let e=(0,s.hJ)(r.db,"vendors"),t=(0,s.IO)(e,(0,s.Xo)("createdAt","desc"));return(await (0,s.PL)(t)).docs.map(e=>({id:e.id,...e.data()}))}function i(e){let t=(0,s.hJ)(r.db,"vendors"),n=(0,s.IO)(t,(0,s.Xo)("createdAt","desc"));return(0,s.cf)(n,t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))})}},117:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(85893),s=n(67294),a=n(13427),o=n(91560),l=n(43604),i=n(83917),d=n(72003),c=n(2646),u=n(75109),m=n(99144);function g(e,t){return null==e?t:e}let v=[{vendorId:"sample-stripe",name:"Stripe (Sample)",logoEmoji:"\uD83D\uDCB3",website:"https://stripe.com",summary:"Payments infrastructure for the internet. Accept payments, send payouts, and manage online businesses.",savedAt:new Date(Date.now()-1728e5).toISOString(),isSample:!0},{vendorId:"sample-proptech",name:"Smart Building Co (Sample)",logoEmoji:"\uD83C\uDFE2",website:"https://example.com",summary:"IoT-enabled property management and smart building automation for commercial real estate.",savedAt:new Date(Date.now()-432e6).toISOString(),isSample:!0}];function h(){let{currentUser:e}=(0,c.a)(),[t,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(!e){console.log("[SavedVendors] No currentUser, skipping subscriptions");return}console.log("[SavedVendors] currentUser:",e.uid,e.email);let t=(0,m.e2)(e=>l(e)),n=(0,u.subscribeSavedVendors)(e.uid,e=>{console.log("[SavedVendors] Received savedList from Firestore:",e.length,"docs");let t=new Map(o.map(e=>[String(e.id),e])),n=e.map(e=>{var n;let r=e.id||e.vendorId,s=t.get(String(r))||{},a={vendorId:String(r),name:g(s.name,e.name)||"Vendor",logoEmoji:s.logoEmoji||e.logoEmoji||"\uD83C\uDFE2",logoUrl:s.logoUrl||e.logoUrl||null,website:s.website||s.url||e.website||"",summary:s.tagline||s.shortDescription||e.summary||"Emerging tech vendor",savedAt:(null===(n=e.savedAt)||void 0===n?void 0:n.toDate)?e.savedAt.toDate().toISOString():new Date().toISOString(),lastViewed:s.lastUpdated||s.createdAt||new Date().toISOString()};return console.log("[SavedVendors] Joined vendor:",a.name,a.vendorId,"logoUrl:",a.logoUrl),a});console.log("[SavedVendors] Setting savedVendors state with",n.length,"items"),a(n)});return(0,u.fetchSavedVendors)(e.uid).then(e=>{console.log("[SavedVendors] Initial fetch returned",e.length,"docs");let t=new Map(o.map(e=>[String(e.id),e])),n=e.map(e=>{var n;let r=e.id||e.vendorId,s=t.get(String(r))||{};return{vendorId:String(r),name:g(s.name,e.name)||"Vendor",logoEmoji:s.logoEmoji||e.logoEmoji||"\uD83C\uDFE2",logoUrl:s.logoUrl||e.logoUrl||null,website:s.website||s.url||e.website||"",summary:s.tagline||s.shortDescription||e.summary||"Emerging tech vendor",savedAt:(null===(n=e.savedAt)||void 0===n?void 0:n.toDate)?e.savedAt.toDate().toISOString():new Date().toISOString(),lastViewed:s.lastUpdated||s.createdAt||new Date().toISOString()}});console.log("[SavedVendors] Initial fetch setting state with",n.length,"items"),a(n)}).catch(e=>{console.error("[SavedVendors] Initial fetch failed:",e)}),()=>{t&&t(),n&&n()}},[e]);let i=(0,s.useMemo)(()=>[...v,...t].sort((e,t)=>new Date(t.savedAt)-new Date(e.savedAt)),[t]);async function d(t){if(e)try{await (0,u.removeSavedVendor)(e.uid,String(t))}catch(e){}}async function h(){if(e){console.log("[SavedVendors] Manual refresh triggered");try{let t=await (0,u.fetchSavedVendors)(e.uid);console.log("[SavedVendors] Manual refresh got",t.length,"docs"),console.log("[SavedVendors] Raw savedList from Firestore:",t);let n=new Map(o.map(e=>[String(e.id),e])),r=t.map(e=>{var t;let r=e.id||e.vendorId,s=n.get(String(r))||{};return{vendorId:String(r),name:g(s.name,e.name)||"Vendor",logoEmoji:s.logoEmoji||e.logoEmoji||"\uD83C\uDFE2",logoUrl:s.logoUrl||e.logoUrl||null,website:s.website||s.url||e.website||"",summary:s.tagline||s.shortDescription||e.summary||"Emerging tech vendor",savedAt:(null===(t=e.savedAt)||void 0===t?void 0:t.toDate)?e.savedAt.toDate().toISOString():new Date().toISOString(),lastViewed:s.lastUpdated||s.createdAt||new Date().toISOString()}});console.log("[SavedVendors] Manual refresh setting state with",r.length,"items"),a(r)}catch(e){console.error("[SavedVendors] Manual refresh failed:",e)}}}async function f(){if(!e){alert("Not logged in!");return}let t={id:"test-"+Date.now(),name:"Test Vendor "+new Date().toLocaleTimeString(),website:"https://test.com",tagline:"This is a test save from the Saved page",logoEmoji:"\uD83E\uDDEA"};try{console.log("[SavedVendors] Test save starting..."),await Promise.resolve().then(n.bind(n,75109)).then(n=>n.saveVendor(e.uid,t.id,t)),console.log("[SavedVendors] Test save complete!"),alert("Test save complete! Click Refresh button to see it.")}catch(e){console.error("[SavedVendors] Test save failed:",e),alert("Test save failed: "+e.message)}}return(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-6 pt-24 pb-16",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900",children:"Saved Vendors"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"A safe place to remember vendors you came across and may want to research later."}),(0,r.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-gray-100 border text-xs font-mono",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{children:"Debug Info:"})}),(0,r.jsxs)("div",{children:["Logged in: ",e?"✅ "+e.email:"❌ No"]}),(0,r.jsxs)("div",{children:["Real saved vendors: ",t.length]}),(0,r.jsxs)("div",{children:["Total displayed (with samples): ",i.length]})]}),(0,r.jsx)("button",{onClick:h,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-xs font-semibold hover:bg-blue-700",children:"\uD83D\uDD04 Refresh Now"})]})}),0===t.length&&(0,r.jsxs)("div",{className:"mt-4 p-4 rounded-xl bg-blue-50 border border-blue-200",children:[(0,r.jsxs)("div",{className:"text-sm text-blue-900",children:[(0,r.jsx)("strong",{children:"\uD83D\uDCA1 Demo cards shown below."}),' When you click "Save Vendor" on any vendor page (FinTech, PropTech, etc.), it will appear here alongside these samples.']}),(0,r.jsx)("button",{onClick:f,className:"mt-3 px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700",children:"\uD83E\uDDEA Test Save Function (Debug)"})]}),0===i.length?(0,r.jsx)(p,{}):(0,r.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-4",children:i.map(e=>(0,r.jsx)(x,{v:e,onUnsave:()=>d(e.vendorId)},e.vendorId))})]})}function x(e){let{v:t,onUnsave:n}=e,[c,u]=(0,s.useState)(""),m=t.isSample;return(0,r.jsxs)("article",{className:"rounded-2xl p-4 border shadow-sm ".concat(m?"bg-blue-50 border-blue-200":"bg-white border-gray-100"),children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl grid place-items-center bg-gray-100 overflow-hidden",children:t.logoUrl?(0,r.jsx)("img",{src:t.logoUrl,alt:t.name,className:"w-8 h-8 object-contain"}):(0,r.jsx)("span",{className:"text-2xl",children:t.logoEmoji})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"font-bold text-slate-900 truncate",children:[t.name,m&&(0,r.jsx)("span",{className:"ml-2 text-xs font-normal text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:"Demo Card"})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Saved ",Math.max(1,Math.round((Date.now()-new Date(t.savedAt))/864e5))," days ago"]}),(0,r.jsx)("div",{className:"mt-1 text-sm text-gray-700 line-clamp-2",children:t.summary}),(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[t.website&&(0,r.jsxs)("a",{href:t.website,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-blue-700 font-medium",children:[(0,r.jsx)(a.Z,{size:14})," Visit Website"]}),!m&&(0,r.jsxs)("button",{onClick:n,className:"inline-flex items-center gap-1 text-red-600",children:[(0,r.jsx)(o.Z,{size:14})," Remove"]})]})]}),!m&&(0,r.jsx)("button",{title:"Unsave",onClick:n,className:"w-9 h-9 grid place-items-center rounded-full bg-white border border-gray-200 hover:border-red-300",children:(0,r.jsx)(l.Z,{className:"text-red-500",size:16})})]}),(0,r.jsxs)("div",{className:"mt-3 p-3 rounded-xl bg-gray-50 border",children:[(0,r.jsx)("div",{className:"text-xs uppercase text-gray-500",children:"Next actions"}),(0,r.jsxs)("div",{className:"mt-2 grid gap-2 sm:grid-cols-3",children:[(0,r.jsxs)("button",{className:"px-3 py-2 rounded-lg border bg-white text-sm inline-flex items-center gap-2",children:[(0,r.jsx)(i.Z,{size:14})," Run Quick Research"]}),(0,r.jsxs)("button",{className:"px-3 py-2 rounded-lg border bg-white text-sm inline-flex items-center gap-2",children:[(0,r.jsx)(d.Z,{size:14})," Request Demo"]}),(0,r.jsxs)("button",{className:"px-3 py-2 rounded-lg border bg-white text-sm inline-flex items-center gap-2",children:[(0,r.jsx)(i.Z,{size:14})," Get Research Report"]})]}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("label",{className:"text-sm text-gray-700",children:"Ask a question about this vendor"}),(0,r.jsxs)("div",{className:"mt-1 flex gap-2",children:[(0,r.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),placeholder:"e.g. Summarize key strengths and risks, or draft a demo request...",className:"flex-1 min-h-[70px] border rounded-lg p-2 text-sm"}),(0,r.jsx)("button",{disabled:!c.trim(),onClick:()=>u(""),className:"h-[70px] px-4 rounded-lg bg-blue-600 text-white text-sm disabled:bg-gray-200",children:"Submit"})]})]})]})]})}function p(){return(0,r.jsxs)("div",{className:"mt-8 text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 rounded-full bg-gray-100 grid place-items-center text-gray-500",children:"♡"}),(0,r.jsx)("div",{className:"mt-2 text-lg font-semibold text-slate-900",children:"No saved vendors yet"}),(0,r.jsx)("div",{className:"text-gray-600",children:"Click the ❤️ icon on any vendor card to save it here for easy comparison"}),(0,r.jsx)("a",{href:"/discover",className:"mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-600 text-white",children:"Start Exploring Vendors"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:"✓ Save vendors for later • ✓ Compare up to 3 • ✓ Share lists with your team"})]})}}},function(e){e.O(0,[2016,9551,2915,9358,2888,9774,179],function(){return e(e.s=52602)}),_N_E=e.O()}]);